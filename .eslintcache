[{"D:\\dougl\\Projects\\draftSim\\draft-sim\\src\\App.js":"1","D:\\dougl\\Projects\\draftSim\\draft-sim\\src\\reportWebVitals.js":"2","D:\\dougl\\Projects\\draftSim\\draft-sim\\src\\CardFetcher.js":"3","D:\\dougl\\Projects\\draftSim\\draft-replay\\src\\index.js":"4","D:\\dougl\\Projects\\draftSim\\draft-replay\\src\\App.js":"5","D:\\dougl\\Projects\\draftSim\\draft-replay\\src\\reportWebVitals.js":"6","D:\\dougl\\Projects\\draftSim\\draft-replay\\src\\CardFetcher.js":"7"},{"size":263,"mtime":1610839815827,"results":"8","hashOfConfig":"9"},{"size":362,"mtime":499162500000,"results":"10","hashOfConfig":"9"},{"size":4751,"mtime":1610916073922,"results":"11","hashOfConfig":"9"},{"size":500,"mtime":499162500000,"results":"12","hashOfConfig":"13"},{"size":263,"mtime":1610839815827,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"13"},{"size":4425,"mtime":1610917933186,"results":"16","hashOfConfig":"13"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"20"},"1khazjm",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},"tp5n24",{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"27"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"27"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},"D:\\dougl\\Projects\\draftSim\\draft-sim\\src\\App.js",["35"],"import logo from './logo.svg';\nimport './App.css';\nimport CardFetcher from './CardFetcher';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <CardFetcher/>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n",["36","37"],"D:\\dougl\\Projects\\draftSim\\draft-sim\\src\\reportWebVitals.js",[],"D:\\dougl\\Projects\\draftSim\\draft-sim\\src\\CardFetcher.js",["38","39","40","41","42","43","44","45","46","47","48"],"D:\\dougl\\Projects\\draftSim\\draft-replay\\src\\index.js",[],["49","50"],"D:\\dougl\\Projects\\draftSim\\draft-replay\\src\\App.js",["51"],"D:\\dougl\\Projects\\draftSim\\draft-replay\\src\\reportWebVitals.js",[],"D:\\dougl\\Projects\\draftSim\\draft-replay\\src\\CardFetcher.js",["52","53","54","55","56","57","58","59","60"],"import React, {Component} from 'react';\r\nimport {FilePicker} from 'react-file-picker';\r\nimport mammoth from \"mammoth\";\r\n\r\nclass CardFetcher extends Component{\r\n\r\n  state = { \r\n    data: [],\r\n    pack: 0,\r\n    loading: true,\r\n    images: [],\r\n    pick_images: [],\r\n    hightlight: false,\r\n    deck: [],\r\n    raw_text: \"\"\r\n  }\r\n\r\n  showFile = () => {\r\n    if (window.File && window.FileReader && window.FileList && window.Blob) {\r\n         var preview = document.getElementById('show-text');\r\n         var file = document.querySelector('input[type=file]').files[0];\r\n         var reader = new FileReader()\r\n\r\n         var textFile = /text.*/;\r\n        const scope = this\r\n         if (file.type.match(textFile)) {\r\n            reader.onload = function (event) {\r\n              scope.setState({\r\n                raw_text: event.target.result\r\n              }, () => {\r\n                scope.process_file()\r\n              });\r\n            }\r\n         } else {\r\n            preview.innerHTML = \"<span class='error'>It doesn't seem to be a text file!</span>\";\r\n         }\r\n         reader.readAsText(file);\r\n\r\n   } else {\r\n      alert(\"Your browser is too old to support HTML5 File API\");\r\n   }\r\n  }\r\n\r\n  fetch_images() {\r\n    let current_pack = this.state.packs[this.state.pack];\r\n    let images = []\r\n    let pick_images = this.state.pick_images\r\n    let listItems\r\n    if(current_pack) {\r\n      for(let i=0; i<current_pack.length; i++){\r\n        let name\r\n        if (current_pack[i].includes(\"//\")) {\r\n          name = current_pack[i].split(\"//\")[0]\r\n        } else {\r\n          name = current_pack[i]\r\n        }\r\n        fetch(\"https://api.scryfall.com/cards/named?fuzzy=\"+name)\r\n          .then(response => response.json())\r\n          .then(json => {\r\n            let image\r\n            if (json.hasOwnProperty('image_uris')) {\r\n              image = (json.image_uris.png)\r\n            } else {\r\n              image = (json.card_faces[0].image_uris.png)\r\n            }\r\n            if (this.state.picks.includes(current_pack[i])){\r\n              pick_images.push(image)\r\n            }\r\n            images.push(image)\r\n            this.setState({images: images, pick_images: pick_images})\r\n          })\r\n      }\r\n    }\r\n  }\r\n\r\n  process_file() {\r\n    let lines = this.state.raw_text.split('\\n')\r\n    let packs = []\r\n    let picks = []\r\n    for (var i=0; i<lines.length; i++){\r\n      if (lines[i].includes('Pack')) {\r\n        let pack = []\r\n        i++\r\n        picks.push(lines[i])\r\n        while((lines[i] != '') && (lines[i]!=undefined)) {\r\n          pack.push(lines[i])\r\n          i++\r\n        }\r\n        packs.push(pack)\r\n      }\r\n    }\r\n    this.setState({\r\n      packs: packs,\r\n      picks: picks\r\n    }, () => {\r\n      this.fetch_images()\r\n    });\r\n  }\r\n\r\n  next_pack() {\r\n    let picked_card\r\n    this.state.images.map(card => {\r\n      if (this.state.pick_images.includes(card)){\r\n        picked_card = card\r\n      }\r\n    })\r\n    let deck = this.state.deck\r\n    deck.push(picked_card)\r\n    this.setState({\r\n      pack: this.state.pack+1,\r\n      highlight: false,\r\n      deck: deck\r\n    }, () => {\r\n      this.fetch_images()\r\n    });\r\n  }\r\n\r\n  show_pick() {\r\n    this.setState({highlight: !this.state.highlight})\r\n  }\r\n  \r\n  render() {\r\n    var style = {width: (66*4), height: (88*4), margin: 15}\r\n    var pick_style = {width: (66*4), height: (88*4), margin: 15, boxShadow: \"10px 10px 10px #FFD700\"}\r\n    const packItems = this.state.images.map((d) => this.state.pick_images.includes(d) ? <img src={d} tags={\"pick\"} style={this.state.highlight? pick_style : style}/> : <img src={d} style={style}/>);\r\n    const pickedItems = this.state.deck.map((d) => <img src={d} style={style}/>);\r\n    return (\r\n      <div>\r\n      <header>\r\n        Pack {Math.floor((this.state.pack)/15)+1} Pick {((this.state.pack)%15)+1}\r\n      </header>\r\n        <input type=\"file\" onChange={this.showFile} />\r\n        <div id=\"show-text\">Choose text File</div>\r\n        <div>\r\n          {this.state.pack < 44 ? <button onClick={this.next_pack.bind(this)}>Next Pack</button> : <div/>}\r\n          <button onClick={this.show_pick.bind(this)}>Show Pick</button>\r\n        </div>\r\n        Current Pack:\r\n        <div>\r\n          {this.state.images ? packItems : \"\"}\r\n        </div> \r\n        Picked So Far:\r\n        <div>\r\n          {this.state.pick_images ? pickedItems : \"\"}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CardFetcher",{"ruleId":"61","severity":1,"message":"62","line":1,"column":8,"nodeType":"63","messageId":"64","endLine":1,"endColumn":12},{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"61","severity":1,"message":"69","line":1,"column":8,"nodeType":"63","messageId":"64","endLine":1,"endColumn":11},{"ruleId":"61","severity":1,"message":"70","line":3,"column":9,"nodeType":"63","messageId":"64","endLine":3,"endColumn":19},{"ruleId":"61","severity":1,"message":"71","line":4,"column":8,"nodeType":"63","messageId":"64","endLine":4,"endColumn":15},{"ruleId":"61","severity":1,"message":"72","line":51,"column":9,"nodeType":"63","messageId":"64","endLine":51,"endColumn":18},{"ruleId":"73","severity":1,"message":"74","line":94,"column":29,"nodeType":"75","messageId":"76","endLine":94,"endColumn":31},{"ruleId":"73","severity":1,"message":"74","line":94,"column":48,"nodeType":"75","messageId":"76","endLine":94,"endColumn":50},{"ruleId":"77","severity":1,"message":"78","line":111,"column":32,"nodeType":"79","messageId":"80","endLine":111,"endColumn":34},{"ruleId":"61","severity":1,"message":"81","line":132,"column":9,"nodeType":"63","messageId":"64","endLine":132,"endColumn":13},{"ruleId":"82","severity":1,"message":"83","line":137,"column":89,"nodeType":"84","endLine":137,"endColumn":166},{"ruleId":"82","severity":1,"message":"83","line":137,"column":169,"nodeType":"84","endLine":137,"endColumn":197},{"ruleId":"82","severity":1,"message":"83","line":138,"column":52,"nodeType":"84","endLine":138,"endColumn":80},{"ruleId":"65","replacedBy":"85"},{"ruleId":"67","replacedBy":"86"},{"ruleId":"61","severity":1,"message":"62","line":1,"column":8,"nodeType":"63","messageId":"64","endLine":1,"endColumn":12},{"ruleId":"61","severity":1,"message":"70","line":2,"column":9,"nodeType":"63","messageId":"64","endLine":2,"endColumn":19},{"ruleId":"61","severity":1,"message":"71","line":3,"column":8,"nodeType":"63","messageId":"64","endLine":3,"endColumn":15},{"ruleId":"61","severity":1,"message":"72","line":48,"column":9,"nodeType":"63","messageId":"64","endLine":48,"endColumn":18},{"ruleId":"73","severity":1,"message":"74","line":85,"column":25,"nodeType":"75","messageId":"76","endLine":85,"endColumn":27},{"ruleId":"73","severity":1,"message":"74","line":85,"column":44,"nodeType":"75","messageId":"76","endLine":85,"endColumn":46},{"ruleId":"77","severity":1,"message":"78","line":102,"column":32,"nodeType":"79","messageId":"80","endLine":102,"endColumn":34},{"ruleId":"82","severity":1,"message":"83","line":125,"column":89,"nodeType":"84","endLine":125,"endColumn":166},{"ruleId":"82","severity":1,"message":"83","line":125,"column":169,"nodeType":"84","endLine":125,"endColumn":197},{"ruleId":"82","severity":1,"message":"83","line":126,"column":52,"nodeType":"84","endLine":126,"endColumn":80},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","no-native-reassign",["87"],"no-negated-in-lhs",["88"],"'raw' is defined but never used.","'FilePicker' is defined but never used.","'mammoth' is defined but never used.","'listItems' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'well' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["87"],["88"],"no-global-assign","no-unsafe-negation"]